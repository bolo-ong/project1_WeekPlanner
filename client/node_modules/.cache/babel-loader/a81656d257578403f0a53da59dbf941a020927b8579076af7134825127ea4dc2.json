{"ast":null,"code":"import _regeneratorRuntime from\"/Users/imchaemin/Desktop/react-project/project1/server/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/imchaemin/Desktop/react-project/project1/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/imchaemin/Desktop/react-project/project1/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from\"react-router-dom\";import{useState}from'react';import AuthForm from'./AuthForm';import SignInContext from'../contexts/SignInCheckContext/SignInCheckContext';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),authForm=_useState2[0],setAuthForm=_useState2[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[authForm===true&&/*#__PURE__*/_jsx(AuthForm,{setAuthForm:setAuthForm}),/*#__PURE__*/_jsx(\"header\",{className:\"text-gray-600 body-font shadow-xl sticky z-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"ml-3 text-xl hover:cursor-pointer\",children:\"WeekPlanner\"})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"md:ml-auto flex flex-wrap items-center text-base justify-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/service\",className:\"mr-5 hover:text-gray-900 cursor-pointer\",children:\"Routines\"}),/*#__PURE__*/_jsx(SignInContext.Consumer,{children:function children(_ref){var isSignIn=_ref.isSignIn,setIsSignIn=_ref.setIsSignIn;return/*#__PURE__*/_jsx(_Fragment,{children:isSignIn===null?/*#__PURE__*/_jsx(\"div\",{}):isSignIn?/*#__PURE__*/_jsx(\"div\",{className:\"mr-5 hover:text-gray-900 cursor-pointer\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/api/user/signout\"),{headers:{'Content-Type':'application/json'},credentials:'include'});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 8:setIsSignIn(false);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);})),children:\"Sign out\"}):/*#__PURE__*/_jsx(\"div\",{className:\"mr-5 hover:text-gray-900 cursor-pointer\",onClick:function onClick(){setAuthForm(true);},children:\"Sign in\"})});}})]})]})})]});}export default Header;","map":{"version":3,"names":["Link","useState","AuthForm","SignInContext","Header","authForm","setAuthForm","isSignIn","setIsSignIn","fetch","process","env","REACT_APP_SERVER_URL","headers","credentials","console","error"],"sources":["/Users/imchaemin/Desktop/react-project/project1/server/client/src/components/Header.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport { useState } from 'react';\nimport AuthForm from './AuthForm';\nimport SignInContext from '../contexts/SignInCheckContext/SignInCheckContext';\n\n\nfunction Header() {\n\n    const [authForm, setAuthForm] = useState(false)\n\n    return (\n        <>\n            {\n                authForm === true && <AuthForm setAuthForm={setAuthForm} />\n            }\n\n\n            <header className=\"text-gray-600 body-font shadow-xl sticky z-20\">\n                <div className=\"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center\">\n                    <div className=\"flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0\">\n                        <Link to=\"/\" className=\"ml-3 text-xl hover:cursor-pointer\">WeekPlanner</Link>\n                    </div>\n                    <nav className=\"md:ml-auto flex flex-wrap items-center text-base justify-center\">\n                        <Link to='/service' className=\"mr-5 hover:text-gray-900 cursor-pointer\">Routines</Link>\n\n                        <SignInContext.Consumer>\n                            {({ isSignIn, setIsSignIn }) => (\n                                <>\n                                    {isSignIn === null ? (\n                                        <div></div>\n                                    ) : isSignIn ? (\n                                        <div className=\"mr-5 hover:text-gray-900 cursor-pointer\"\n                                            onClick={async () => {\n                                                try {\n                                                    await fetch(`${process.env.REACT_APP_SERVER_URL}/api/user/signout`, {\n                                                        headers: {\n                                                            'Content-Type': 'application/json'\n                                                        },\n                                                        credentials: 'include'\n                                                    });\n                                                } catch (error) {\n                                                    console.error(error);\n                                                }\n                                                setIsSignIn(false);\n                                            }}>\n                                            Sign out\n                                        </div>\n                                    ) : (\n                                        <div className=\"mr-5 hover:text-gray-900 cursor-pointer\"\n                                            onClick={() => {\n                                                setAuthForm(true);\n                                            }}>\n                                            Sign in\n                                        </div>\n                                    )}\n                                </>)}\n                        </SignInContext.Consumer>\n\n\n\n                    </nav>\n                </div>\n            </header>\n        </>\n    )\n}\n\nexport default Header;"],"mappings":"ycAAA,OAASA,IAAI,KAAQ,kBAAkB,CACvC,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAOC,SAAQ,KAAM,YAAY,CACjC,MAAOC,cAAa,KAAM,mDAAmD,CAAC,6IAG9E,QAASC,OAAM,EAAG,CAEd,cAAgCH,QAAQ,CAAC,KAAK,CAAC,wCAAxCI,QAAQ,eAAEC,WAAW,eAE5B,mBACI,2BAEQD,QAAQ,GAAK,IAAI,eAAI,KAAC,QAAQ,EAAC,WAAW,CAAEC,WAAY,EAAG,cAI/D,eAAQ,SAAS,CAAC,+CAA+C,uBAC7D,aAAK,SAAS,CAAC,wEAAwE,wBACnF,YAAK,SAAS,CAAC,qEAAqE,uBAChF,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,mCAAmC,UAAC,aAAW,EAAO,EAC3E,cACN,aAAK,SAAS,CAAC,iEAAiE,wBAC5E,KAAC,IAAI,EAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,UAAC,UAAQ,EAAO,cAEvF,KAAC,aAAa,CAAC,QAAQ,WAClB,2BAAGC,SAAQ,MAARA,QAAQ,CAAEC,WAAW,MAAXA,WAAW,oBACrB,yBACKD,QAAQ,GAAK,IAAI,cACd,cAAW,CACXA,QAAQ,cACR,YAAK,SAAS,CAAC,yCAAyC,CACpD,OAAO,wEAAE,0KAEKE,MAAK,WAAIC,OAAO,CAACC,GAAG,CAACC,oBAAoB,sBAAqB,CAChEC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,WAAW,CAAE,SACjB,CAAC,CAAC,sFAEFC,OAAO,CAACC,KAAK,aAAO,CAAC,OAEzBR,WAAW,CAAC,KAAK,CAAC,CAAC,kEACtB,EAAC,UAAC,UAEP,EAAM,cAEN,YAAK,SAAS,CAAC,yCAAyC,CACpD,OAAO,CAAE,kBAAM,CACXF,WAAW,CAAC,IAAI,CAAC,CACrB,CAAE,UAAC,SAEP,EACH,EACF,EAAC,EACa,GAIvB,GACJ,EACD,GACV,CAEX,CAEA,cAAeF,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}